<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
<title>Using JythonShell</title>
<style type="text/css">

/*ORIGINAL GOODGER + changes; up to line 224 it's standard reST stylesheet
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2006/10/19 13:23:15 $
:version: $Revision: 1.2 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

/* EKR 10/19/06 */
/* some browsers require imported rules to precede all rulesets */
@import url(leo_rst.css);
@import url(silver_city.css);

.first {
  margin-top: 0 }

.last {
  margin-bottom: 0 }

a.toc-backref {
  text-decoration: none ;
  color: black }

dd {
  margin-bottom: 0.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning, div.admonition {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title,
div.admonition p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 0em 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;}
  /*background-color: #eeeeee }*/
  /*for some reason i can't overide in an import*/

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5ex }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5ex }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

/*for some reason, the following isn't being overridden by the imports
at the end of this style sheet so I've commented it out*/
/*tt {
  background-color: #eeeeee }*/

ul.auto-toc {
  list-style-type: none }
  
hr { /* EKR */
  width: 100%;
  height: 1pt;
  color: gray;
}



</style>
</head>
<body>
<div class="document" id="using-jythonshell">
<h1 class="title">Using JythonShell</h1>

<!-- rst3: filename: html\jythonShell.html -->
<!-- December 3, 2005 -->
<p>This chapter describes how to use the Jython Shell created by LeoUser.</p>
<!-- .. contents:: -->
<!-- rST links used in this document... -->
<div class="section" id="autocompleter-actions">
<h1>Autocompleter Actions</h1>
<ul class="simple">
<li>Up-Down Arrow moves the selection up or down.</li>
<li>Tab inserts the current selection.</li>
</ul>
<p>The completion list shows the best prefix entered after the '.'
Any other key withdraws the autocompleter.</p>
</div>
<div class="section" id="keystrokes">
<h1>Keystrokes</h1>
<dl class="docutils">
<dt>Enter</dt>
<dd>Processes the current line from the prompt to the end,
regardless of where the cursor is.</dd>
<dt>Ctrl Enter</dt>
<dd><p class="first">This keystroke has two meanings:</p>
<ol class="last arabic simple">
<li>process the current line with a ':' appended to the end of it,
regardless of where the cursor is.
This is the behavior if there is character data on the line.</li>
<li>If the line is pure whitespace, then the line is interpreted as a '' string with a length of 0.</li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="alt-slash-dynamic-abbreviations">
<h1>Alt Slash: Dynamic Abbreviations</h1>
<p>Executing will dynamically expand a prefix to matching
words already entered within the interpreter.  For example:
cactus
cac( keystroke ) will expand cac to cactus.
This will cycle through all matches to cac within the buffer upon repeated execution.</p>
<dl class="docutils">
<dt>Ctrl A</dt>
<dd>Moves current position to the end of the prompt.</dd>
<dt>Ctrl E</dt>
<dd>Moves current position to the end of the line.</dd>
<dt>Ctrl K</dt>
<dd>Removes all text from current position to end of the line.</dd>
<dt>Ctrl N</dt>
<dd>Start typing, and then use this keystroke to search downwards only through
the history items that match what you've typed so far. If you use this
keystroke at a blank prompt, they just behave like normal arrow keys.</dd>
<dt>Ctrl P</dt>
<dd>Start typing, and then use this keystroke to search upwards through only the
history items that match what you ve typed so far. If you use this keystroke
at a blank prompt, they just behave like normal arrow keys.</dd>
<dt>Ctrl R</dt>
<dd>Opens a search prompt. Begin typing and the system searches your history for
lines that contain what you ve typed so far, completing as much as it can.</dd>
<dt>Ctrl T</dt>
<dd>Places triple quotes around the text on the current line.</dd>
<dt>Ctrl Z</dt>
<dd>Suppresses the current output for the duration of the execution statement.
This is useful in cases where there is a tremendous amount of output
occurring and the user decides that he no longer wishes to see all of it. For
gigantic outputs, this can be a shell saver.</dd>
<dt>Delete</dt>
<dd>Removes all text from the prompt to the end of the line.</dd>
<dt>Down</dt>
<dd>Moves the current line down one item in the history.
By moving, this means the current line is replaced with history item.</dd>
<dt>Up</dt>
<dd>Moves the current line up one item in the history
By moving, this means the current line is replaced with history item.</dd>
</dl>
</div>
<div class="section" id="object-introspection">
<h1>Object Introspection</h1>
<p>Typing a reference name followed by a ? will create a object view which gives
the user a variety of information about the Object in question. Example:</p>
<pre class="literal-block">
a = 'meoooowwww'
a? # Upon Enter, a panel will appear below showing Object information.
</pre>
</div>
<div class="section" id="system-access">
<h1>System access</h1>
<p>Typing ! at the command prompt followed by the system command you wish to
execute will start the command as a process and return a JPID for the process
that can be manipulated by the magic command set.</p>
</div>
<div class="section" id="magic-commands">
<h1>Magic Commands</h1>
<p>Entering one of the following commands will cause its
corresponding command to execute:</p>
<div class="section" id="alias-analias">
<h2>%alias anAlias</h2>
<p><tt class="docutils literal"><span class="pre">%alias</span></tt> <em>anAlias</em> defines alias name as an alias for cmd.
Afterwards, typing alias name params will execute the system command cmd params (from your
underlying operating system).
Aliases have lower precedence than magic functions and Python normal variables,
so if foo is both a Python variable and an alias, the alias can not be executed until you remove the Python using <tt class="docutils literal"><span class="pre">del</span> <span class="pre">foo</span></tt>.</p>
</div>
<div class="section" id="autocall">
<h2>%autocall</h2>
<p>Toggles autocalling off and on.
Autocalling is the ability to do something like:</p>
<pre class="literal-block">
dir a
</pre>
<p>instead of dir( a ).</p>
</div>
<div class="section" id="autoindent">
<h2>%autoindent</h2>
<p>Toggles autoindenting off and on.</p>
</div>
<div class="section" id="bg">
<h2>%bg</h2>
<p>Runs a method/function in a background thread.
For example:</p>
<pre class="literal-block">
%bg doit()
</pre>
<p>This executes doit in a thread.
The status of the operation can be seen by looking at the jobs object:</p>
<pre class="literal-block">
jobs.status()  #Prints the status of the jobs.
</pre>
<p>Alternatively you can access the status like so:</p>
<pre class="literal-block">
jobs[jobnumber].result
</pre>
<p>jobnumber is printed out when the method/function is about to execute.
The result will be the return value of the method/function or it will tell you the job isn't finished yet.</p>
</div>
<div class="section" id="cd">
<h2>%cd</h2>
<p>Changes the current working directory of the Jython Shell.
<tt class="docutils literal"><span class="pre">..</span></tt> signifies the parent directory.
Absolute and relative paths are allowed.</p>
</div>
<div class="section" id="clean">
<h2>%clean</h2>
<p>Destroys all JPIDs.</p>
</div>
<div class="section" id="clear">
<h2>%clear</h2>
<p>Clears the shell of all text and starts over with a fresh prompt.</p>
</div>
<div class="section" id="cwd">
<h2>%cwd</h2>
<p>Shows the current working directory of the Jython Shell.</p>
</div>
<div class="section" id="cwd-areference">
<h2>%cwd aReference</h2>
<p>Sets the reference to a java.io.File instance representing the current directory.</p>
</div>
<div class="section" id="deserialize-areference">
<h2>%deserialize aReference</h2>
<p>Deserialize an Object stored on disk into the reference.</p>
</div>
<div class="section" id="ed">
<h2>%ed</h2>
<p>Same as %edit.</p>
</div>
<div class="section" id="edit-options-args">
<h2>%edit [options] [args]</h2>
<p>Brings up the Jython Shell editor and executes the resulting code.</p>
<p>This command allows you to conveniently edit multi-line code right in your JythonShell session.
If called without arguments,
<tt class="docutils literal"><span class="pre">%edit</span></tt> opens up an empty editor with a temporary file and will execute the contents of this file when you close it
(don t forget to save it!).
Options:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-p</span></kbd></td>
<td>Calls the editor with the same data as the previous time it was used,
regardless of how long ago (in your current session) it was.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-x</span></kbd></td>
<td>Suppresses execution of the edited code upon exit.
This is mainly useful if you are editing programs which need to be called with command line arguments,
which you can then do using %run.</td></tr>
</tbody>
</table>
<p>If args are given, the following possibilities exist:</p>
<ul class="simple">
<li>The arguments are numbers or pairs of colon-separated numbers, e.g., <tt class="docutils literal"><span class="pre">1</span> <span class="pre">4:8</span> <span class="pre">9</span></tt>.
These are interpreted as lines of previous input to be loaded into the editor.
The syntax is the same of the %macro command.</li>
<li>If the argument doesn't start with a number,
it is evaluated as a variable and its contents loaded into the editor.
You can thus edit any string which contains python code (including the result of previous edits).</li>
</ul>
</div>
<div class="section" id="env">
<h2>%env</h2>
<p>Prints all environment variables.</p>
</div>
<div class="section" id="hist-n-n1-n2">
<h2>%hist [-n] [n1] [n2]</h2>
<p>Prints all or part of the history.
If given, the <tt class="docutils literal"><span class="pre">-n</span></tt> argument signifies that line numbers should not be printed out.</p>
<dl class="docutils">
<dt>%hist [ -n ]</dt>
<dd>Prints the total history or the last 40 items in it.</dd>
<dt>%hist [ -n ] n1</dt>
<dd>Prints the last n1 items in the history.</dd>
<dt>%hist [ -n ] n1 n2</dt>
<dd>Prints the items from index n1 to index n2.</dd>
</dl>
</div>
<div class="section" id="kill-n">
<h2>%kill n</h2>
<p>Destroys JPID n.</p>
</div>
<div class="section" id="ls">
<h2>%ls</h2>
<p>Shows the contents of the current working directory.</p>
</div>
<div class="section" id="ls-areference">
<h2>%ls aReference</h2>
<p>Shows a java array of File instances.  For example:</p>
<pre class="literal-block">
%ls a # a now holds a java array of File instances
</pre>
</div>
<div class="section" id="lsmagic">
<h2>%lsmagic</h2>
<p>Returns the current available set of magic commands.</p>
</div>
<div class="section" id="macro-amacro">
<h2>%macro aMacro</h2>
<p>Defines a macro that can be executed by using the name given.  For example:</p>
<pre class="literal-block">
%macro macex 9:10 11 12:13 4
</pre>
<p>creates a macro called macex and puts line 9-10, 11 12-13 and 4 from the history into it
Hence entering macex and typing enter will cause those lines to rexecute.</p>
<p>To see the contents of the macro type: <tt class="docutils literal"><span class="pre">print</span> <span class="pre">macroname</span></tt>.
To remove a macro type: <tt class="docutils literal"><span class="pre">del</span> <span class="pre">macroname</span></tt>.</p>
</div>
<div class="section" id="magic">
<h2>%magic</h2>
<dl class="docutils">
<dt>%magic</dt>
<dd>Prints out the description of the magic commands.</dd>
<dt>%magic %magiccommandname</dt>
<dd>Prints the usage/description of the given magic command.</dd>
</dl>
</div>
<div class="section" id="p">
<h2>%p</h2>
<p>Same as 'print'.</p>
</div>
<div class="section" id="pdb">
<h2>%pdb</h2>
<dl class="docutils">
<dt>%pdb</dt>
<dd>Starts the Pdb debugger.</dd>
</dl>
<p>%pdb filename</p>
<blockquote>
Runs the file under Pdb in the shell.</blockquote>
<dl class="docutils">
<dt>%pdb [on|1|off|0 ]</dt>
<dd><p class="first">Toggles automatic startup of Pdb on an exception.  Examples:</p>
<pre class="last literal-block">
%pdb on  --&gt; now on
%pdb off --&gt; now off
%pdb 1 --&gt; now on
%pdb 0 --&gt; now off
</pre>
</dd>
</dl>
</div>
<div class="section" id="pdoc-anobject">
<h2>%pdoc anObject</h2>
<p>Prints out the doc string of the passed in object if one can be found, otherwise does nothing.</p>
<p>The object may be a module, a method, an object, etc.</p>
</div>
<div class="section" id="pfile-obj">
<h2>%pfile obj</h2>
<p>Attempts to locate the source file of the passed in object
and displays the contents of the source in the shell.</p>
</div>
<div class="section" id="pinfo-areference">
<h2>%pinfo aReference</h2>
<p>An alias for the ? object viewer syntax.
If the references is valid, a widget containing info on the reference will appear.</p>
</div>
<div class="section" id="prun-statement">
<h2>%prun statement</h2>
<p>Executes a statement entered on the same line in the profile module.</p>
</div>
<div class="section" id="ps">
<h2>%ps</h2>
<dl class="docutils">
<dt>%ps</dt>
<dd>Prints out all JPID's the JythonShell has collected.</dd>
<dt>%ps aReference</dt>
<dd><p class="first">Puts a java Set of Processes in the reference.  For example:</p>
<blockquote class="last">
%ps a #a now holds a Set of Processes.</blockquote>
</dd>
</dl>
</div>
<div class="section" id="r">
<h2>%r</h2>
<p>Repeats the last input.</p>
</div>
<div class="section" id="rehash-and-rehashx">
<h2>%rehash and %rehashx</h2>
<dl class="docutils">
<dt>%rehash</dt>
<dd>Updates the alias table with all entries in $PATH.
This command does <strong>not</strong> check execute permissions or whether the contents of $PATH are truly files
(instead of directories or something else).</dd>
<dt>%rehashx</dt>
<dd>Updates the alias table with all executable files in $PATH.
This command <strong>does</strong> explicitly check that every entry in $PATH is a file, so it is slower than %rehash.</dd>
</dl>
</div>
<div class="section" id="reset">
<h2>%reset</h2>
<p>Resets the namespace by removing all names defined by the user.
Input/Output history remain in case you need them.</p>
</div>
<div class="section" id="run-n-i-t-n-n-d-b-n-p-profile-options-file-args">
<h2>%run [-n -i -t [-N n] -d [-b n] -p [profile options]] file [args]</h2>
<p>Runs the named file inside IPython as a program. Options:</p>
<dl class="docutils">
<dt>-n:</dt>
<dd><p class="first">Suppresses setting <tt class="docutils literal"><span class="pre">__name__</span></tt> to <tt class="docutils literal"><span class="pre">__main__</span></tt>.
Instead, sets <tt class="docutils literal"><span class="pre">__name__</span></tt> to the file's name without
extension (as Python does under import).</p>
<p>This allows running scripts and reloading the definitions in them without calling code protected by:</p>
<pre class="last literal-block">
if __name__ == __main__:
</pre>
</dd>
<dt>-i:</dt>
<dd>Runs the file in JythonShell's namespace instead of an empty one.
This is useful if you are experimenting with code written in a text editor which
depends on variables defined interactively.</dd>
<dt>-t:</dt>
<dd>Prints timing information at the end of the run.</dd>
<dt>-N n:</dt>
<dd>If -t is given this option indicates how many times you want the script to run.
<tt class="docutils literal"><span class="pre">n</span></tt> must be an integer.
The final timing report will include total and per run results.</dd>
</dl>
</div>
<div class="section" id="save-filename-n1-n2-n3-n4-n5-n6">
<h2>%save filename n1:n2 n3:n4 ... n5 .. n6 ...</h2>
<p>This command uses the same syntax as %macro for line extraction, but instead
of creating a macro it saves the resulting string to file whose name is
given. It ensures the filename ends with a .py extension, and it asks for
confirmation before overwriting existing files.</p>
</div>
<div class="section" id="sc-options-varname-command">
<h2>%sc [options] varname=command</h2>
<p>Runs the given command using <tt class="docutils literal"><span class="pre">command.getoutput()</span></tt>
and updates the user's interactive namespace with a variable called varname
containing the value of the call.
Your command can contain shell wildcards, pipes, etc.
The <tt class="docutils literal"><span class="pre">=</span></tt> is mandatory, and the variable name must be a valid Python identifier.
Options:</p>
<dl class="docutils">
<dt>-l:</dt>
<dd>List output. Splits the output on newlines into a list before
assigning it to the given variable. By default the output is stored as a
single string.</dd>
<dt>-v:</dt>
<dd>Verbose. Prints the contents of the variable.</dd>
</dl>
</div>
<div class="section" id="see">
<h2>%see</h2>
<dl class="docutils">
<dt>%see n</dt>
<dd>Shows any output JPID n has collected.</dd>
<dt>%see n aReference</dt>
<dd>Places any output JPID n has collected in the reference.</dd>
</dl>
</div>
<div class="section" id="send-n-areference">
<h2>%send n aReference</h2>
<p>Sends the reference as input to JPID n.</p>
</div>
<div class="section" id="serialize-areference">
<h2>%serialize aReference</h2>
<p>Saves the object referenced by reference as a serialized Object.</p>
</div>
<div class="section" id="swing-areference">
<h2>%swing aReference</h2>
<p>Places the reference into the editor if the reference is a JComponent subclass.
Useful for quick gazing of what a Swing component looks like.</p>
</div>
<div class="section" id="sx-acommand">
<h2>%sx aCommand</h2>
<p>Runs the given command using commands.getoutput(), and returns the result formatted as a list (split on).
The output is stored in ipython's regular output cache Out[N] and in the N automatic variables.</p>
</div>
<div class="section" id="threads">
<h2>%threads</h2>
<p>Shows the threads running and the state they are in.
Selecting a thread shows the thread's stack.</p>
</div>
<div class="section" id="unalias-analias">
<h2>%unalias anAlias</h2>
<p>Removes the given alias.</p>
</div>
<div class="section" id="url-ref-aurl">
<h2>%url ref aUrl</h2>
<p>Loads data from a url into a reference.  For example:</p>
<pre class="literal-block">
%url a http://python.org
</pre>
<p>take the data at <tt class="docutils literal"><span class="pre">http://python.org</span></tt> and places it in ref.</p>
</div>
<div class="section" id="wait-n">
<h2>%wait n</h2>
<p>Suspends the JythonShell until JPID n has finished.</p>
</div>
<div class="section" id="who">
<h2>%who</h2>
<p>Prints the list of identifiers that have been defined interactively.</p>
</div>
<div class="section" id="who-ls">
<h2>%who_ls</h2>
<p>Returns a sorted list of all interactive variables.
If arguments are given, only variables of types matching these arguments are returned.
Examples:</p>
<pre class="literal-block">
%who_ls
%who_ls str int  #this prints out variables whose type is str and int
</pre>
</div>
<div class="section" id="whos">
<h2>%whos</h2>
<p>Prints a table of identifiers that have been defined interactively.</p>
</div>
<div class="section" id="xslt-ref1-ref2-ref3">
<h2>%xslt ref1 ref2 ref3</h2>
<p>Transforms reference ref2 with the stylesheet in ref1 putting the result in ref3.</p>
</div>
</div>
<div class="section" id="a-note-on-jpids-and-the-cwd">
<h1>A Note on JPIDs and the CWD</h1>
<p>JPIDs are not PIDs of the OS. They are a system by which the JythonShell can
keep track of Processes created by it, and means by which the user can
manipulate those Processes.</p>
<p>The CWD does not indicate what the process is working in. It is intended to
function with the Magic Commands. This system does not interoperate with
java.io.File or Jython open. To achieve interoperability the user should use the
magic command of the form:</p>
<pre class="literal-block">
%cwd reference
</pre>
<p>This will place a java.io.File in the reference. The File instance is a copy of
the CWD File and will allow the user to open, write, create, close streams and
such in the JythonShell's CWD</p>
</div>
</div>
</body>
</html>
